<app-header></app-header>

<div class="grid">
    <div class="item" style="max-height: 80vh;">
        <ngx-charts-bar-vertical-2d 
            [trimYAxisTicks]="false"
            [scheme]="colorScheme"
            [schemeType]="schemeType"
            [noBarWhenZero]="noBarWhenZero"
            [barPadding]="2" 
            [groupPadding]="8" 
            [results]="multi" 
            [gradient]="gradient" 
            [xAxis]="showXAxis" 
            [yAxis]="showYAxis"
            [yAxisTicks]="yAxisTicksArr"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"  
            [showDataLabel]="showDataLabel"
            [showGridLines]="true"
            [roundDomains]="roundDomains"
            [xAxisLabel]="xAxisLabel"
            [yAxisLabel]="yAxisLabel"
            [rotateXAxisTicks]="rotateXAxisTicks"
            (select)="onSelect($event)" 
            (activate)="onActivate($event)" 
            (deactivate)="onDeactivate($event)">
        </ngx-charts-bar-vertical-2d>
    </div>
    <div class="item" style="max-height: 80vh; max-width: 30vw;">
        <ngx-charts-gauge
            [scheme]="{
                domain: ['#00ff00']
                }"
            [startAngle]="-120"
            [angleSpan]="240"
            [results]="single"
            [min]="0"
            [max]="100"
            [units]="'% Заряда батареи'"
            (select)="onSelect($event)"
            (activate)="onActivate($event)"
            (deactivate)="onDeactivate($event)"
        >
        </ngx-charts-gauge>
    </div>

    <div class="item" style="max-height: 33vh;">
        <ngx-charts-line-chart
            [scheme]="colorScheme"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [yAxisLabel]="'Температура, °C'"
            [xAxis]="xAxis"
            [yAxis]="yAxis"
            [results]="time_temp0"
            (select)="onSelect($event)"
            (activate)="onActivate($event)"
            (deactivate)="onDeactivate($event)"
            >
        </ngx-charts-line-chart>
    </div>
    <div class="item" style="max-height: 33vh;">
        <ngx-charts-line-chart
            [scheme]="colorScheme"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [yAxisLabel]="'Сила тока, A'"            
            [xAxis]="xAxis"
            [yAxis]="yAxis"
            [roundDomains]="false"
            [animations]="false"
            [results]="time_temp1"
            (select)="onSelect($event)"
            (activate)="onActivate($event)"
            (deactivate)="onDeactivate($event)"
        >
        <!-- [curve]="d3.shape.curveLinear" -->
        </ngx-charts-line-chart>
    </div>
    <div class="item" style="max-height: 33vh;">
        <ngx-charts-line-chart
            [scheme]="colorScheme"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [yAxisLabel]="'Балансировка'"      
            [curve]="linearCurveStep"                  
            [xAxis]="xAxis"
            [yAxis]="yAxis"
            [roundDomains]="false"
            [showGridLines]="false"
            [animations]="false"
            [results]="balance"
            (select)="onSelect($event)"
            (activate)="onActivate($event)"
            (deactivate)="onDeactivate($event)"
        >
        <!-- [curve]="d3.shape.curveLinear" -->
        </ngx-charts-line-chart>
    </div>
    <div class="item" style="max-height: 33vh;">
        <ngx-charts-line-chart
            [scheme]="colorScheme"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [yAxisLabel]="'Контактор'"
            [curve]="linearCurveStep"            
            [xAxis]="xAxis"
            [yAxis]="yAxis"
            [yAxisTicks]="[0, 1]"
            [roundDomains]="false"
            [showGridLines]="false"
            [animations]="false"
            [results]="contractor"
            (select)="onSelect($event)"
            (activate)="onActivate($event)"
            (deactivate)="onDeactivate($event)"
        ></ngx-charts-line-chart>
    </div>
    
</div>

<div class="item" style="margin: 1rem 2rem; max-width: 100vw;">
    <h3 style="padding: 1rem 2rem;">Изменить батарею</h3>
    <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
        <div class="btn-group mr-2" role="group" aria-label="First group">
            <button type="button" *ngFor="let battery of batteries; let i = index" 
                (click)="changeBattery(i)" class="btn btn-secondary"
                [ngClass]="{active: i == currentBattery}">
                {{i + 1}}
            </button>
        </div>
    </div>
</div>